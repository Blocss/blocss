/*----------------------------------------------------------------------------*\
    $MEDIA
    As per: stubbornella.org/content/2010/06/25/the-media-object-saves-hundreds-of-lines-of-code
\*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*\
    $CONTENTS
\*----------------------------------------------------------------------------*/

    /*
    CONTENTS................You're reading it, LOL
    MIXINS..................Module specific mixins
    MODULE..................Includes base module & submodules
    STATE...................States the module can be in
    THEME...................Theming of the module
    */





/*----------------------------------------------------------------------------*\
    $MIXINS
\*----------------------------------------------------------------------------*/

    /**
     * Collapsed media
     */
    @mixin media-collapse (){
        .media__img,
        .media__img--rev {
            display: block;
            float: none;
            max-width: 100%;
            @include rem(margin, 0 auto $space);

            img{
                display: inline-block;
                margin-bottom: 0;
            }
        }
    }





@if $use-modules-media == true{
/*----------------------------------------------------------------------------*\
    $MODULE
\*----------------------------------------------------------------------------*/

    /**
     * Place any image- and text-like content side-by-side, eg.:
       <div class="media">
            <div class="media__img">
                <img/>
            </div>
            <div class="media__body"></div>
        </div>
     */
    .media{
        display: block;
        @extend .cf;
    }
        .media__img{
            float: left;
            @include rem(margin-right, $space);
        }

        /* Reversed image location (right instead of left). */
        .media__img--rev{
            float: right;
            @include rem(margin-left, $space);
        }
            .media__img img,
            .media__img--rev img{
                display:block;
            }

        .media__body{
            overflow: hidden;
        }
            .media__body,
            .media__body > :last-child{
                margin-bottom: 0;
            }


    /**
     * Islets have a slightly smaller padding value than normal.
     * With this in mind we make the `.img` spacing a little smaller for
     * visual consistency.
     */
    .islet{
        .media__img{
            @include rem(margin-right, $space-half);
        }
        .media__img--rev{
            @include rem(margin-left, $space-half);
        }
    }


    /**
     * Continent have a slightly bigger padding value than normal.
     * With this in mind we make the `.img` spacing a little bigger for
     * visual consistency.
     */
    .continent{
        .media__img{
            @include rem(margin-right, $space*2);
        }
        .media__img--rev{
            @include rem(margin-left, $space*2);
        }
    }


    /**
     * Modifyer: Collapsed media
     */
    .media--collapse {
        @include media-collapse;
    }





/*----------------------------------------------------------------------------*\
    $STATE
\*----------------------------------------------------------------------------*/

    @if $responsive == true {
        /**
         * Collapse media based on breakpoint
         */
        @each $state in $breakpoint-has-collapsed-media {
            @include media-query(#{$state}) {
                .media--collapse--#{$state} {
                    @include media-collapse;
                }
            }
        }
    }





/*----------------------------------------------------------------------------*\
    $THEME
\*----------------------------------------------------------------------------*/
} // use-modules-media